<!DOCTYPE html>
<html>

<head>
  <title>JSONÊï∞ÊçÆ</title>
  <style>
    table {
      width: 100%;
      border-collapse: collapse;
    }

    th,
    td {
      border: 2px solid black;
      padding: 20px;
      font-size: 48px;
      text-align: left;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    th {
      background-color: #4CAF50;
      color: white;
    }

    @media only screen and (max-width: 600px) {
      td {
        font-size: 32px;
        white-space: normal;
        overflow: auto;
        max-height: 100px;
      }
    }
  </style>
</head>

<body>
  <h1>JSON Êï∞ÊçÆËß£Êûê</h1>
  <table id="jsonTable">
    <tr>
      <th>Â≠óÊÆµ</th>
      <th>ÂÄº</th>
    </tr>
  </table>

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script>
        var url = document.location;
     var APIURL = url["protocol"] + "//" + url["host"]
     var url = window.location.href;
  var paramsIndex = url.indexOf('?');
  if (paramsIndex !== -1) {
    var paramsString = url.slice(paramsIndex + 1);
    var paramsArray = paramsString.split('&');
    for (var i = 0; i < paramsArray.length; i++) {
      var param = paramsArray[i].split('=');
      if (param[0] === 'id') {
        var id = param[1];
        console.log(id); // ÊâìÂç∞ÂèÇÊï∞ id ÁöÑÂÄº
        break;
      }
    }
  }
      console.log(id); // ÊâìÂç∞ÂèÇÊï∞ id ÁöÑÂÄº
                $.get(APIURL + "/getUserInfo?id="+id, function (data) {
                  var data = JSON.parse(data);
                  var translateMap = {
      "uid": "Áî®Êà∑ID",
      "nickname": "ÊòµÁß∞",
      "createTime": "ÂàõÂª∫Êó∂Èó¥",
      "gold": "ÈáëÂ∏Å",
      "totalGold": "ÊÄªÈáëÂ∏Å",
      "energy": "ÂèØÁî®ËÉΩÈáè",
      "star": "ÊòüÊòü",
      "monthVipEndTime": "ÊúàVIPÁªìÊùüÊó∂Èó¥",
      "mineGold": "ÊåñÊéòÈáëÂ∏Å",
      "pieceList": "Á¢éÁâáÂàóË°®",
      "pieceActivityId": "Á¢éÁâáÊ¥ªÂä®ID",
      "sendPieceTimes": "ÂèëÈÄÅÁ¢éÁâáÊ¨°Êï∞",
      "getIslandPrizeList": "Ëé∑ÂèñÂ≤õÂ±øÂ•ñÂìÅÂàóË°®",
      "dayDraw": "ÊØèÊó•ÊëáËÉΩÈáè",
      "dayAttack": "ÊØèÊó•ÊîªÂáª",
      "daySteal": "ÊØèÊó•ÂÅ∑Âèñ",
      "dayFriendEnergy": "ÊØèÊó•Â•ΩÂèãËÉΩÈáè",
      "summonBossTimes": "Âè¨Âî§BossÊ¨°Êï∞",
      "summonBossStone": "Âè¨Âî§BossÁü≥Â§¥",
      "bossCannon": "BossÁÇÆ",
      "lastDrawCompanionTime": "‰∏äÊ¨°ÊäΩÂèñ‰ºô‰º¥Êó∂Èó¥",
      "followCompanion": "ÂÖ≥Ê≥®ÁöÑ‰ºô‰º¥",
      "inviteReduceCompanionCdTimes": "ÈÇÄËØ∑ÂáèÂ∞ë‰ºô‰º¥ÂÜ∑Âç¥Ê¨°Êï∞",
      "isGetInviteBossPrize": "ÊòØÂê¶Ëé∑ÂæóÈÇÄËØ∑BossÂ•ñÂìÅ",
      "dayTasks": "ÊØèÊó•‰ªªÂä°",
      "codeGift": "Á§ºÁâ©Á†Å",
      "giftBox": "Á§ºÁâ©Áõí",
      "getIslandEnergyList": "Ëé∑ÂèñÂ≤õÂ±øËÉΩÈáèÂàóË°®",
      "getPiecePrizeTimes": "Ëé∑ÂèñÁ¢éÁâáÂ•ñÂä±Ê¨°Êï∞",
      "friendCount": "Â•ΩÂèãÊï∞Èáè",
      "isGetFreeBossCannon": "ÊòØÂê¶Ëé∑ÂæóÂÖçË¥πBossÁÇÆ",
      "candyTree": "Á≥ñÊûúÊ†ë",
      "clamp": "Â§πÂ≠ê",
      "timeMachine": "Êó∂ÂÖâÊú∫",
      "goldMine": "ÈáëÁüø",
      "isGetFreeClamp": "ÊòØÂê¶Ëé∑ÂæóÂÖçË¥πÂ§πÂ≠ê",
      "elevenEnergy": "ÂçÅ‰∏ÄÁÇπËÉΩÈáè",
      "elevenEnergyPrizeFlag": "ÂçÅ‰∏ÄÁÇπËÉΩÈáèÂ•ñÂä±Ê†áÂøó",
      "elevenRecharge": "ÂçÅ‰∏ÄÁÇπÂÖÖÂÄº",
      "elevenRechargePrizeFlag": "ÂçÅ‰∏ÄÁÇπÂÖÖÂÄºÂ•ñÂä±Ê†áÂøó",
      "familyMedal": "ÂÖ¨‰ºöÂããÁ´†",
      "familyCoin": "ÊàëÁöÑÂÖ¨‰ºöÂ∏Å",
      "familyId": "ÂÖ¨‰ºöID",
      "familyDayTask": "ÂÖ¨‰ºöÊØèÊó•‰ªªÂä°",
      "familyShopTimes": "ÂÖ¨‰ºöÂïÜÂ∫óÊ¨°Êï∞",
      "isFamilySign": "ÊòØÂê¶ÂÖ¨‰ºöÁ≠æÂà∞",
      "animal": "Âä®Áâ©",
      "familyRobTaskList": "ÂÖ¨‰ºöÊä¢Â§∫‰ªªÂä°ÂàóË°®",
      "firewood": "Êü¥ÁÅ´",
      "labaActivityId": "ÊãâÈú∏Ê¥ªÂä®ID",
      "laba": "ÊãâÈú∏",
      "labaBowl": "ÊãâÈú∏Á¢ó",
      "wheelUpgradeItem": "ËΩ¨ÁõòÂçáÁ∫ßÈÅìÂÖ∑",
      "wheelLevel": "ËΩ¨ÁõòÁ≠âÁ∫ß",
      "playLuckyWheelNumDaily": "ÊØèÊó•ËΩ¨Âä®Âπ∏ËøêËΩ¨ÁõòÊ¨°Êï∞",
      "beachItems": "Ê≤ôÊª©ÈÅìÂÖ∑",
      "beach": "Ê≤ôÊª©",
      "beachHelp": "Ê≤ôÊª©Â∏ÆÂä©",
      "drawGetMineItemTimes": "ÊäΩÂèñÁüøÁü≥ÈÅìÂÖ∑Ê¨°Êï∞",
      "drawGetMineItemProgress": "ÊäΩÂèñÁüøÁü≥ÈÅìÂÖ∑ËøõÂ∫¶",
      "miningActivityId": "ÊåñÁüøÊ¥ªÂä®ID",
      "miningGroupId": "ÊåñÁüøÂàÜÁªÑID",
      "rankRewardFlag": "ÊéíË°åÊ¶úÂ•ñÂä±Ê†áÂøó",
      "miningItems": "ÊåñÁüøÈÅìÂÖ∑",
      "mine": "ÁüøÂú∫",
      "miningHelp": "ÊåñÁüøÂ∏ÆÂä©",
      "miningScoreRewardIndex": "ÊåñÁüøÁßØÂàÜÂ•ñÂä±Á¥¢Âºï",
      "lastMiningActivityInfo": "‰∏äÊ¨°ÊåñÁüøÊ¥ªÂä®‰ø°ÊÅØ",
      "now": "ÂΩìÂâçÊó∂Èó¥",
      "island": "Â≤õÂ±ø",
      "drawPrizeList": "ÊäΩÂ•ñÂ•ñÂä±ÂàóË°®",
      "mineCapacity": "ÁüøÁü≥ÂÆπÈáè",
      "buildPrice": "Âª∫ÈÄ†‰ª∑Ê†º",
      "184":"È±ºÂèâÊï∞Èáè",
      "185":"üöÄÊï∞Èáè",
      "186":"Ê∞¥Èõ∑Êï∞Èáè",
      "187":"ÂΩìÂâçÁüøÁßØÂàÜ",
      "76":"Êµ£ÁÜäü¶ù",
      "77":"‰ºÅÈπÖüêß",
      "78":"ÈáéÁå™üêó",
      "79":"ÁæäÈ©ºü¶ô",
      "80":"ÁÜäÁå´üêº",
      "81":"Â§ßË±°üêò",
      "endTime":"ÁªìÊùüÊó∂Èó¥",
      "familyWeekActive":"Êú¨Âë®Ê¥ªË∑ÉÂ∫¶",
      "gemList":"Â∞èÂ≤õÂØªÂÆù",
      "25":"ÈªÑÊ∞¥Êô∂",
      "26":"Á¥´Ê∞¥Êô∂",
      "27":"ÈªëÊ∞¥Êô∂",
      "28":"ÁªøÂÆùÁü≥",
      "29":"Á∫¢ÂÆùÁü≥",
      "30":"ÈíªÁü≥"
   };



    var table = document.getElementById("jsonTable");

    // ÂÆö‰πâË°®Á§∫Êó∂Èó¥ÁöÑÂ≠óÊÆµÊï∞ÁªÑ
    var timeFields = ["createTime", "monthVipEndTime", "lastDrawCompanionTime", "now"];
    // ÂÆö‰πâÈúÄË¶ÅÊéíÂ∫èÁöÑÂ≠óÊÆµÊï∞ÁªÑ
    var keys = ["uid", "nickname", "star", "gold", "buildPrice", "miningItems", "animal", "energy", "dayDraw", "familyId", "familyCoin", "familyWeekActive", "gemList", "clamp", "timeMachine"];
    var sortedKeys = [];

for (var i = 0; i < keys.length; i++) {
  var key = keys[i];
  if (data.hasOwnProperty(key)) {
    sortedKeys.push(key);
  }
}

// ÈÅçÂéÜ data ÂØπË±°‰∏≠ÁöÑÈîÆ
for (var key in data) {
  if (data.hasOwnProperty(key) && !sortedKeys.includes(key)) {
    sortedKeys.push(key);
  }
}

for (var i = 0; i < sortedKeys.length; i++) {
  var key = sortedKeys[i];
    // for (var key in data) {
        if (translateMap[key] ==null){
          continue;
        }

        var row = table.insertRow(-1);
        var cell1 = row.insertCell(0);
        var cell2 = row.insertCell(1);
        cell1.innerHTML = translateMap[key] ? translateMap[key] : key;

        // Ê†πÊçÆÂ≠óÊÆµËøõË°åÁâπÊÆäÂ§ÑÁêÜ
        if (timeFields.includes(key)) {
          // Â¶ÇÊûúÂ≠óÊÆµÂú®Êó∂Èó¥Â≠óÊÆµÊï∞ÁªÑ‰∏≠ÔºåÂ∞ÜÂÖ∂Ëß£Êûê‰∏∫Êó∂Èó¥
          var timestamp = parseInt(data[key]);
          var date = new Date(timestamp);
          // ËÆæÁΩÆÈÄâÈ°π‰ª•Ëé∑Âæó‰∏≠ÂõΩÊó∂Èó¥Ê†ºÂºè
var options = { timeZone: 'Asia/Shanghai' };
var formattedDate = date.toLocaleString('zh-CN', options);
          cell2.innerHTML = formattedDate;
        } else if (translateMap[key] === "ÊòµÁß∞") {
          // Â¶ÇÊûúÂ≠óÊÆµ‰ª£Ë°®ÂêçÂ≠óÔºåËøõË°å URL Ëß£Á†Å
          try {
            var decodedValue = decodeURIComponent(data[key]);
            cell2.innerHTML = decodedValue;
          } catch (error) {
            // Ëß£Á†ÅÂ§±Ë¥•ÔºåÁõ¥Êé•ÊòæÁ§∫ÂéüÂßãÂÄº
            cell2.innerHTML = "Áé©ÂÆ∂";
          }
        } else if (key === "pieceList" || key === "getIslandPrizeList" || key === "dayTasks" || key === "getIslandEnergyList") {
          // ÂØπ‰∫éÁâπÂÆöÁöÑÂ≠óÊÆµÔºåÂ∞ÜÂÖ∂ÂÄºËß£Êûê‰∏∫ JSON
          // try {
          //   var jsonValue = JSON.parse(data[key]);
          //   cell2.innerHTML = JSON.stringify(jsonValue);
          // } catch (error) {
          //   // Ëß£ÊûêÂ§±Ë¥•ÔºåÁõ¥Êé•ÊòæÁ§∫ÂéüÂßãÂÄº
          //   cell2.innerHTML = data[key];
          // }
          cell2.innerHTML = JSON.stringify(data[key]);

        } else if (key === "miningItems" || key === "animal" || key === "gemList"){
          // ÈÅçÂéÜdata[key],Êï∞ÊçÆÊòØ{"184":3404,"185":2176,"186":944,"187":0} Êääkey‰ªétranslateMap‰∏≠ÂèñÂá∫Êù•‰Ωú‰∏∫Êñ∞ÁöÑkey,ÈáçÊñ∞ÁªÑË£ÖÊàêÊñ∞ÁöÑjson
          var jsonValue = data[key];
          var newJson = {};
          for (var key2 in jsonValue) {
            if (jsonValue.hasOwnProperty(key2)) {
              if (translateMap[key2] ==null){
                continue;
              }
              newJson[translateMap[key2]] = jsonValue[key2];
            }
          }
          cell2.innerHTML = JSON.stringify(newJson);
        } else if (key === "gold" || key === "totalGold"){
          // Êäädata[key]Èô§‰ª•1000000‰øùÁïô2‰ΩçÂ∞èÊï∞ ÁÑ∂ÂêéÂêéÈù¢Âä†‰∏™MÂ≠óÁ¨¶‰∏≤
          var gold = data[key];
          var goldStr = (gold/1000000).toFixed(2) + "M";
          cell2.innerHTML = goldStr;
          // cell2.innerHTML = JSON.stringify(data[key]);
        } else if (key === "buildPrice"){
          var jsonValue = data[key];
          // ÈÅçÂéÜjsonValue,Êï∞ÊçÆÊòØ{"1":{"1":61600000,"2":92400000,"3":138000000,"4":235000000,"5":352000000},"2":{"1":67400000,"2":103000000,"3":154000000,"4":249000000,"5":396000000},"3":{"1":73300000,"2":113000000,"3":169000000,"4":264000000,"5":440000000},"4":{"1":79200000,"2":123000000,"3":191000000,"4":293000000,"5":513000000},"5":{"1":85000000,"2":138000000,"3":220000000,"4":337000000,"5":616000000}} ÊääÈáåÈù¢ÁöÑ61600000Á≠âÂÄºsumËµ∑Êù•
          var sum = 0;
          for (var key2 in jsonValue) {
            if (jsonValue.hasOwnProperty(key2)) {
              var jsonValue2 = jsonValue[key2];
              for (var key3 in jsonValue2) {
                if (jsonValue2.hasOwnProperty(key3)) {
                  sum += jsonValue2[key3];
                }
              }
            }
          }
          var goldStr = (sum/1000000).toFixed(2) + "M";
          cell2.innerHTML = "ÈúÄË¶Å:"+goldStr;
        }else {
          // ÂÖ∂‰ªñÊÉÖÂÜµÁõ¥Êé•ÊòæÁ§∫ÂéüÂßãÂÄº
          // cell2.innerHTML = data[key];
          cell2.innerHTML = JSON.stringify(data[key]);

        }

        // if (cell2.innerHTML.length > 20) {
        //   cell2.style.fontSize = '27px';
        // } 

        // switch (key) {
        //   case "gold":
        //     cell2.style.color = 'red';
        //     break;
        //   case "buildPrice":
        //     cell2.style.color = 'red';
        //     break;
        //   case "clamp":
        //     cell2.style.color = 'red';
        //     break;
        //   case "dayDraw":
        //     cell2.style.color = 'red';
        //     break;
        //   case "familyCoin":
        //     cell2.style.color = 'red';
        //     break;
        //   case "familyWeekActive":
        //     cell2.style.color = 'red';
        //     break;
        //   }
        //   var keyValue = cell1.innerHTML.length
        // switch (true){
        //     case keyValue>=8:
        //       cell1.style.fontSize = '10px';
        //     break;
        //     case keyValue>4:
        //       cell1.style.fontSize = '10px';
        //     case keyValue>=2:
        //       cell1.style.fontSize = '40px';
        //     break;
        // }

    }
                });
    



  </script>
</body>

</html>